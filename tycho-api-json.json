{"openapi":"3.0.0","paths":{"/donor":{"get":{"operationId":"DonorController_getAll","summary":"","description":"Get all donors","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Donor"}}}}}},"tags":["donor"]},"post":{"operationId":"DonorController_create","summary":"","description":"Create new donor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDonorDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Donor"}}}}},"tags":["donor"]}},"/donor/{id}/without-me":{"get":{"operationId":"DonorController_getAllWithoutMe","summary":"","description":"Get all calls without particular donor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"query","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Call"}}}}}},"tags":["donor"]}},"/donor/{id}":{"get":{"operationId":"DonorController_get","summary":"","description":"Get one donor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Donor"}}}}},"tags":["donor"]},"patch":{"operationId":"DonorController_update","summary":"","description":"Update donor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDonorDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Donor"}}}}},"tags":["donor"]},"delete":{"operationId":"DonorController_delete","summary":"","description":"Delete donor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["donor"]}},"/donor/{id}/my-calls":{"get":{"operationId":"DonorController_getMyCalls","summary":"","description":"Get donor's calls","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"query","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Call"}}}}}},"tags":["donor"]}},"/consumer":{"get":{"operationId":"ConsumerController_getAll","summary":"","description":"Get all consumers","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Consumer"}}}}}},"tags":["consumer"]},"post":{"operationId":"ConsumerController_create","summary":"","description":"Create consumer","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateConsumerDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Consumer"}}}}},"tags":["consumer"]}},"/consumer/{id}":{"get":{"operationId":"ConsumerController_get","summary":"","description":"Get one consumer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Consumer"}}}}},"tags":["consumer"]},"patch":{"operationId":"ConsumerController_update","summary":"","description":"Update consumer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConsumerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Consumer"}}}}},"tags":["consumer"]},"delete":{"operationId":"ConsumerController_delete","summary":"","description":"Delete consumer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["consumer"]}},"/consumer/{id}/my-calls":{"get":{"operationId":"ConsumerController_getMyCalls","summary":"","description":"Get consumer's calls","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"query","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Call"}}}}}},"tags":["consumer"]}},"/consumer/{id}/my-donors":{"get":{"operationId":"ConsumerController_getMyDonors","summary":"","description":"Get consumer's donors","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}}},"tags":["consumer"]}},"/call":{"get":{"operationId":"CallController_getAll","summary":"","description":"Get all calls","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Call"}}}}}},"tags":["call"]},"post":{"operationId":"CallController_create","summary":"","description":"Create new call","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Call"}}}}},"tags":["call"]}},"/call/{id}":{"get":{"operationId":"CallController_get","summary":"","description":"Get one call","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Call"}}}}},"tags":["call"]},"patch":{"operationId":"CallController_update","summary":"","description":"Update call","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCallDto"}}}},"responses":{"200":{"description":""}},"tags":["call"]},"delete":{"operationId":"CallController_delete","summary":"","description":"Delete call","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["call"]}},"/call/{id}/revoke":{"post":{"operationId":"CallController_revokeCall","summary":"","description":"Revoke call (for donor)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["call"]}},"/call/{id}/join":{"post":{"operationId":"CallController_joinCall","summary":"","description":"Join call (for donor)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["call"]}},"/call/{id}/file":{"post":{"operationId":"CallController_uploadFile","summary":"","description":"Upload file","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["call"]}},"/call/{id}/donors":{"get":{"operationId":"CallController_getCallDonors","summary":"","description":"Get call donors","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Donor"}}}}}},"tags":["call"]}},"/login":{"post":{"operationId":"LoginController_login","summary":"","description":"Login with email and password","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDataDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["login"]}},"/notifications/{id}":{"get":{"operationId":"NotificationsController_getNotifications","summary":"","description":"Get user's notifications","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}}},"tags":["notifications"]}},"/notifications/{id}/read":{"post":{"operationId":"NotificationsController_markAsRead","summary":"","description":"Read notification","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"}}}}},"tags":["notifications"]}},"/notifications/{userId}/remove/{notificationId}":{"delete":{"operationId":"NotificationsController_removeNotification","summary":"","description":"Delete notification","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"notificationId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}}},"tags":["notifications"]}},"/donor-dataset":{"get":{"operationId":"DonorDatasetController_getAll","summary":"","description":"Get all datasets","parameters":[{"name":"query","required":true,"in":"query","schema":{"type":"string"}},{"name":"tags","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}}},"tags":["donor-dataset"]}},"/donor-dataset/tags":{"get":{"operationId":"DonorDatasetController_getTags","summary":"","description":"Get all tags","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}},"tags":["donor-dataset"]}},"/donor-dataset/donor/{donorId}/{callId}":{"get":{"operationId":"DonorDatasetController_getDonorDatasets","summary":"","description":"Get donor's datasets","parameters":[{"name":"donorId","required":true,"in":"path","schema":{"type":"string"}},{"name":"callId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Dataset"}}}}}},"tags":["donor-dataset"]}},"/donor-dataset/call/{callId}":{"get":{"operationId":"DonorDatasetController_getCallDatasets","summary":"","description":"Get call's datasets","parameters":[{"name":"callId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Dataset"}}}}}},"tags":["donor-dataset"]}},"/donor-dataset/{id}":{"get":{"operationId":"DonorDatasetController_get","summary":"","description":"Get one dataset","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Dataset"}}}}},"tags":["donor-dataset"]}},"/donor-dataset/{id}/file":{"post":{"operationId":"DonorDatasetController_uploadFile","summary":"","description":"Upload file","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Dataset"}}}}},"tags":["donor-dataset"]}}},"info":{"title":"Tycho-api","description":"Tycho project api","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CallDateInfo":{"type":"object","properties":{"callId":{"type":"string"},"date":{"format":"date-time","type":"string"}},"required":["callId","date"]},"Donor":{"type":"object","properties":{"surname":{"type":"string"},"institution":{"type":"string"},"calls":{"type":"array","items":{"$ref":"#/components/schemas/CallDateInfo"}},"name":{"type":"string"},"role":{"enum":["consumer","donor"],"type":"string"},"email":{"type":"string"},"password":{"type":"string"}},"required":["surname","institution","calls","name","role","email","password"]},"Institution":{"type":"object","properties":{"name":{"type":"string"},"isPrivate":{"type":"boolean"},"institutionType":{"type":"string"},"location":{"type":"string"},"website":{"type":"string"},"department":{"type":"string"},"description":{"type":"string"}},"required":["name","isPrivate","institutionType","location","website","department","description"]},"ContactPerson":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"email":{"type":"string"}},"required":["name","surname","email"]},"DataTemplate":{"type":"object","properties":{"filename":{"type":"string"},"contentType":{"type":"string"},"contentLength":{"type":"number"}},"required":["filename","contentType","contentLength"]},"Data":{"type":"object","properties":{"license":{"type":"string"},"thirdParties":{"type":"string"},"dataTemplate":{"$ref":"#/components/schemas/DataTemplate"},"personalInformation":{"type":"string"}},"required":["license","thirdParties","dataTemplate","personalInformation"]},"Call":{"type":"object","properties":{"date":{"format":"date-time","type":"string"},"title":{"type":"string"},"description":{"type":"string"},"institution":{"$ref":"#/components/schemas/Institution"},"contactPerson":{"$ref":"#/components/schemas/ContactPerson"},"data":{"$ref":"#/components/schemas/Data"},"imageUrl":{"type":"string"},"fileUrl":{"type":"string"},"donors":{"type":"array","items":{"type":"string"}},"consumers":{"type":"array","items":{"type":"string"}},"keywords":{"type":"array","items":{"type":"string"}}},"required":["date","title","description","institution","contactPerson","data","imageUrl","fileUrl","donors","consumers","keywords"]},"CreateDonorDto":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"role":{"type":"string","enum":["consumer","donor"]},"email":{"type":"string"},"password":{"type":"string"},"institution":{"type":"string"},"calls":{"type":"array","items":{"$ref":"#/components/schemas/CallDateInfo"}}},"required":["name","surname","role","email","password","institution","calls"]},"UpdateDonorDto":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"role":{"type":"string","enum":["consumer","donor"]},"email":{"type":"string"},"password":{"type":"string"},"institution":{"type":"string"},"calls":{"type":"array","items":{"$ref":"#/components/schemas/CallDateInfo"}}}},"Consumer":{"type":"object","properties":{"isPrivate":{"type":"boolean"},"consumerType":{"type":"string"},"location":{"type":"string"},"website":{"type":"string"},"department":{"type":"string"},"description":{"type":"string"},"calls":{"type":"array","items":{"type":"string"}},"name":{"type":"string"},"role":{"enum":["consumer","donor"],"type":"string"},"email":{"type":"string"},"password":{"type":"string"}},"required":["isPrivate","consumerType","location","website","department","description","calls","name","role","email","password"]},"CreateConsumerDto":{"type":"object","properties":{"name":{"type":"string"},"role":{"type":"string","enum":["consumer","donor"]},"email":{"type":"string"},"password":{"type":"string"},"isPrivate":{"type":"boolean"},"consumerType":{"type":"string"},"location":{"type":"string"},"website":{"type":"string"},"department":{"type":"string"},"description":{"type":"string"},"calls":{"type":"array","items":{"type":"string"}}},"required":["name","role","email","password","isPrivate","consumerType","location","website","department","description","calls"]},"UpdateConsumerDto":{"type":"object","properties":{"name":{"type":"string"},"role":{"type":"string","enum":["consumer","donor"]},"email":{"type":"string"},"password":{"type":"string"},"isPrivate":{"type":"boolean"},"consumerType":{"type":"string"},"location":{"type":"string"},"website":{"type":"string"},"department":{"type":"string"},"description":{"type":"string"},"calls":{"type":"array","items":{"type":"string"}}}},"UpdateCallDto":{"type":"object","properties":{"date":{"format":"date-time","type":"string"},"title":{"type":"string"},"description":{"type":"string"},"institution":{"$ref":"#/components/schemas/Institution"},"contactPerson":{"$ref":"#/components/schemas/ContactPerson"},"data":{"$ref":"#/components/schemas/Data"},"imageUrl":{"type":"string"},"donors":{"type":"array","items":{"type":"string"}},"consumers":{"type":"array","items":{"type":"string"}},"keywords":{"default":[],"type":"array","items":{"type":"string"}}}},"LoginDataDto":{"type":"object","properties":{"role":{"type":"string","enum":["consumer","donor"]},"email":{"type":"string"},"password":{"type":"string"}}},"Notification":{"type":"object","properties":{"userId":{"type":"string"},"title":{"type":"string"},"body":{"type":"string"},"createdOn":{"format":"date-time","type":"string"},"isRead":{"type":"boolean"}},"required":["userId","title","body","createdOn","isRead"]},"FileMetadata":{"type":"object","properties":{"filename":{"type":"string"},"contentType":{"type":"string"},"contentLength":{"type":"number"},"url":{"type":"string"}},"required":["filename","contentType","contentLength"]},"Dataset":{"type":"object","properties":{"owner":{"type":"object"},"call":{"type":"string"},"description":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"file":{"$ref":"#/components/schemas/FileMetadata"}},"required":["owner","call","description","tags","file"]}}}}